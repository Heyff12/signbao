/**
 * rechargeB - rechargeB详情
 * @version v1.0.0
 * @link 
 * @license ISC
 */
require(["../require-config"],function(){require(["zepto","yanzheng","add_bounced","ajax_rule","localstorage","iosselect","city_data","date_get"],function($,a,e,t,s,n,d,i){$(function(){function t(){var a=$("#js_banktype").val(),e=$("#js_banktype_val").val();a?($(".js_banktype").text(e),$(".js_banktype").data("id",a),$(".js_banktype").data("value",e),$(".js_banktype").parents("dl").addClass("success")):($(".js_banktype").text(""),$(".js_banktype").parents("dl").removeClass("success"));var t=$("#js_bankprovince_val").val(),n=$("#js_bankcity_val").val(),d=$("#js_bankprovince").val(),r=$("#js_bankcity").val();t||n?($(".js_bank_addr").text(t+" "+n),$(".js_bank_addr").attr("data-pro_id",d),$(".js_bank_addr").attr("data-pro_val",t),$(".js_bank_addr").attr("data-city_id",r),$(".js_bank_addr").attr("data-city_val",n),$(".js_bank_addr").parents("dl").addClass("success")):($(".js_bank_addr").text(""),$(".js_bank_addr").parents("dl").removeClass("success"));var o=$(".js_idcard_startime").val();o?($(".js_idcard_startime").data("year",o.substr(0,4)),$(".js_idcard_startime").data("month",o.substr(5,2)),$(".js_idcard_startime").data("day",o.substr(8,2))):($(".js_idcard_startime").data("year",i.nowYear),$(".js_idcard_startime").data("month",i.nowMonth),$(".js_idcard_startime").data("day",i.nowDate));var _=$(".js_idcard_endtime").val();_?($(".js_idcard_endtime").data("year",_.substr(0,4)),$(".js_idcard_endtime").data("month",_.substr(5,2)),$(".js_idcard_endtime").data("day",_.substr(8,2))):($(".js_idcard_endtime").data("year",i.nowYear),$(".js_idcard_endtime").data("month",i.nowMonth),$(".js_idcard_endtime").data("day",i.nowDate));var c=s.getone_storage("cardback"),l=s.getone_storage("cardface"),u=s.getone_storage("cardhand");u&&l&&c?($(".js_go_idcard").addClass("success"),$(".js_shoppic").val("已上传")):($(".js_go_idcard").removeClass("success"),$(".js_shoppic").val(""));var m=s.getone_storage("bankname");m?($(".js_go_bankname").addClass("success"),$(".js_bankname").val(m)):($(".js_go_bankname").removeClass("success"),$(".js_bankname").val(""))}var r,o=d.iosProvinces,_=d.iosCitys,c=[{id:"1",value:"对公账户"},{id:"2",value:"对私账户"}],l=a.get_hash("business");"small"==l?($(".js_banktype").parents("dl").hide(),r="business=small"):($(".js_banktype").parents("dl").show(),r=""),$(document).ready(function(){s.get_storage(t)}),$(".js_go_idcard").on("click",function(){var a="file:///Users/yaya/Documents/job/local/%E7%AD%BE%E7%BA%A6%E5%AE%9D/signbao/html/register/busipic.html";location.href=a}),$(".js_go_bankname").on("click",function(){var a="file:///Users/yaya/Documents/job/local/%E7%AD%BE%E7%BA%A6%E5%AE%9D/signbao/html/register/bankname.html";location.href=a}),$(".js_open_banktype").on("click",function(){var a=document.querySelector("#js_banktype"),e=document.querySelector("#js_banktype_val"),t=document.querySelector(".js_banktype"),s=t.dataset.id;t.dataset.value,new n(1,[c],{container:".ios_select_container",title:"账户类型",itemHeight:50,itemShowCount:3,oneLevelId:s,callback:function(s){a.value=s.id,e.value=s.value,t.innerHTML=s.value,t.dataset.id=s.id,t.dataset.value=s.value}})}),$(".js_open_bankaddr").on("click",function(){var a=document.querySelector("#js_bankprovince"),e=document.querySelector("#js_bankcity"),t=document.querySelector("#js_bankprovince_val"),s=document.querySelector("#js_bankcity_val"),d=document.querySelector(".js_bank_addr"),i=d.dataset.pro_id,r=(d.dataset.pro_val,d.dataset.city_id);d.dataset.city_val,new n(2,[o,_],{container:".ios_select_container",title:"开户地与店铺所在省份保持一致",itemHeight:50,itemShowCount:7,relation:[1,0,0,0],oneLevelId:i,twoLevelId:r,callback:function(n,i){a.value=n.id,e.value=i.id,t.value=n.value,s.value=i.value,d.innerHTML=n.value+" "+i.value,d.dataset.pro_id=n.id,d.dataset.pro_val=n.value,d.dataset.city_id=i.id,d.dataset.city_val=i.value}})}),$(".js_idcard_startime").on("click",function(){var a=document.querySelector(".js_idcard_startime"),e=a.dataset.year,t=a.dataset.month,s=a.dataset.day;new n(3,[i.yearData,i.monthData,i.dateData],{container:".ios_select_container",title:"请与身份证背面起始日期保持一致",itemHeight:50,itemShowCount:7,relation:[1,1,0,0],oneLevelId:e,twoLevelId:t,threeLevelId:s,callback:function(e,t,s){a.dataset.year=e.id,a.dataset.month=t.id,a.dataset.day=s.id,a.value=e.id+"-"+t.id+"-"+s.id}})}),$(".js_idcard_endtime").on("click",function(){var a=document.querySelector(".js_idcard_endtime"),e=a.dataset.year,t=a.dataset.month,s=a.dataset.day;new n(3,[i.yearData,i.monthData,i.dateData],{container:".ios_select_container",title:"请与身份证背面起始日期保持一致",itemHeight:50,itemShowCount:7,relation:[1,1,0,0],oneLevelId:e,twoLevelId:t,threeLevelId:s,callback:function(e,t,s){a.dataset.year=e.id,a.dataset.month=t.id,a.dataset.day=s.id,a.value=e.id+"-"+t.id+"-"+s.id}})}),$(".js_third").on("click",function(){a.name_test(".js_ownername",0,60),a.name_test(".js_idnumber",0,60),a.name_test(".js_idcard",0,60),a.name_test(".js_idcard_startime",0,60),a.name_test(".js_idcard_endtime",0,60),a.name_test(".js_bankuser",0,60),a.name_test(".js_bankaccount",0,60),a.tel_test(".js_bankmobile"),a.name_test(".js_banktype",0,60),a.name_test(".js_bank_addr",0,60),a.name_test(".js_bankname",0,60);var e=$(".error_data").length;return!(e>0)&&(s.set_storage(),void(location.href="file:///Users/yaya/Documents/job/local/%E7%AD%BE%E7%BA%A6%E5%AE%9D/signbao/html/register/end.html?"+r))}),e.add_bounced(),e.close_tip()})})});